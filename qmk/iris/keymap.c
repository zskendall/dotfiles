#include QMK_KEYBOARD_H
#include "quantum.h"

extern keymap_config_t keymap_config;

enum user_layers {
  _QWERTY,
  _NUM,
  _NAV,
  _GUI,
};

/** Dynamic mod-tap keycode macros. */
#define CTL_ESC LCTL_T(KC_ESC)
#define CTL_RET RCTL_T(KC_ENT)
#define LALT_LP LALT_T(S(KC_9))
#define RALT_RP RALT_T(S(KC_0))
#define LSFT_LB LSFT_T(S(KC_LBRACKET))
#define RSFT_RB RSFT_T(S(KC_RBRACKET))

/** Dynamic layer-tap keycode macros. */
#define NUM_SPC LT(_NUM, KC_SPC)
#define NAV_SPC LT(_NAV, KC_SPC)
#define LGUI_BG LT(_GUI, C(KC_Z))
#define RGUI_LK LT(_GUI, LWIN(KC_L))

// Key aliases
#define ___x___ KC_NO

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

  /**
   * Base Layer (QWERTY): Tap on top, mod on bottom
   * ┌──────┬──────┬──────┬──────┬──────┬──────┐                          ┌──────┬──────┬──────┬──────┬──────┬──────┐
   * |  `   |  1   |  2   |  3   |  4   |  5   |                          |   6  |   7  |   8  |   9  |   0  |  Bsp |
   * ├──────┼──────┼──────┼──────┼──────┼──────┤                          ├──────┼──────┼──────┼──────┼──────┼──────┤
   * | Tab  |  Q   |  W   |  E   |  R   |  T   |                          |   Y  |   U  |   I  |   O  |   P  |   '  |
   * ├──────┼──────┼──────┼──────┼──────┼──────┤                          ├──────┼──────┼──────┼──────┼──────┼──────┤
   * | Esc  |  A   |  S   |  D   |  F   |  G   |                          |   H  |   J  |   K  |   L  |   ;  |  Ret |
   * | LCtrl|      |      |      |      |      |                          |      |      |      |      |      | LCtrl|
   * ├──────┼──────┼──────┼──────┼──────┼──────┼──────┐            ┌──────┼──────┼──────┼──────┼──────┼──────┼──────┤
   * |  {   |  Z   |  X   |  C   |  V   |  B   | Del  |            |   =  |   N  |   M  |   ,  |   .  |   /  |   }  |
   * | LShft|      |      |      |      |      |      |            |      |      |      |      |      |      | RShft|
   * └──────┴──────┴──────┴──┬───┴──┬───┴──┬───┴──┬───┘            └──┬───┴──┬───┴──┬───┴──┬───┴──────┴──────┴──────┘
   *                         | C-z  |  (   | Spc  |                   |  Spc |   )  | Lock |
   *                         |*GUI* | LAlt |*Num* |                   | *Nav*| RAlt | *GUI*|
   *                         └──────┴──────┴──────┘                   └──────┴──────┴──────┘
   */
  [_QWERTY] = LAYOUT(
     KC_GRV , KC_1 , KC_2 , KC_3 , KC_4 , KC_5 ,                  KC_6 , KC_7 , KC_8   , KC_9  , KC_0   , KC_BSPC,
     KC_TAB , KC_Q , KC_W , KC_E , KC_R , KC_T ,                  KC_Y , KC_U , KC_I   , KC_O  , KC_P   , KC_QUOT,
     CTL_ESC, KC_A , KC_S , KC_D , KC_F , KC_G ,                  KC_H , KC_J , KC_K   , KC_L  , KC_SCLN, CTL_RET,
     LSFT_LB, KC_Z , KC_X , KC_C , KC_V , KC_B , KC_DEL,   KC_EQ, KC_N , KC_M , KC_COMM, KC_DOT, KC_SLSH, RSFT_RB,
                          LGUI_BG, LALT_LP, NUM_SPC,         NAV_SPC, RALT_RP, RGUI_LK
  ),

  /**
   * Numeric Layer
   * ┌──────┬──────┬──────┬──────┬──────┬──────┐                          ┌──────┬──────┬──────┬──────┬──────┬──────┐
   * |  F1  |  F2  |  F3  |  F4  |  F5  |  F6  |                          |  F7  |  F8  |  F9  |  F10 |  F11 |  F12 |
   * ├──────┼──────┼──────┼──────┼──────┼──────┤                          ├──────┼──────┼──────┼──────┼──────┼──────┤
   * |//////|      |      |//////|      |      |                          |   *  |   7  |   8  |   9  |   -  |  Bsp |
   * ├──────┼──────┼──────┼──────┼──────┼──────┤                          ├──────┼──────┼──────┼──────┼──────┼──────┤
   * |//////|//////|      |//////|//////|   \  |                          |   /  |   4  |   5  |   6  |   +  |//////|
   * ├──────┼──────┼──────┼──────┼──────┼──────┼──────┐            ┌──────┼──────┼──────┼──────┼──────┼──────┼──────┤
   * |//////|      |      |//////|      |//////|//////|            |      |   =  |   1  |   2  |   3  |  Ret |//////|
   * └──────┴──────┴──────┴──┬───┴──┬───┴──┬───┴──┬───┘            └──┬───┴──┬───┴──┬───┴──┬───┴──────┴──────┴──────┘
   *                         |      |//////|*Pad* |                   |   0  |//////|   .  |
   *                         └──────┴──────┴──────┘                   └──────┴──────┴──────┘
   */
  [_NUM] = LAYOUT(
     KC_F1  , KC_F2  , KC_F3  , KC_F4  , KC_F5  , KC_F6  ,                     KC_F7  , KC_F8  , KC_F9  , KC_F10 , KC_F11 , KC_F12,
     _______, ___x___, ___x___, _______, ___x___, ___x___,                     KC_PAST, KC_P7  , KC_P8  , KC_P9  , KC_PMNS, KC_BSPC,
     _______, _______, ___x___, _______, _______, KC_BSLS,                     KC_PSLS, KC_P4  , KC_P5  , KC_P6  , KC_PPLS, _______,
     _______, ___x___, ___x___, _______, ___x___, _______, _______,   ___x___, KC_PEQL, KC_P1  , KC_P2  , KC_P3  , KC_PENT, _______,
                                    ___x___, _______, _______,              KC_P0,  _______, KC_PDOT
  ),

  /**
   * Directional Navigation Layer
   * ┌──────┬──────┬──────┬──────┬──────┬──────┐                          ┌──────┬──────┬──────┬──────┬──────┬──────┐
   * |      |  1   |  2   |  3   |  4   |  5   |                          |   6  |   7  |   8  |   9  |   0  |      |
   * ├──────┼──────┼──────┼──────┼──────┼──────┤                          ├──────┼──────┼──────┼──────┼──────┼──────┤
   * |//////|      |      |      |      |      |                          |      |      |      |      |      |//////|
   * ├──────┼──────┼──────┼──────┼──────┼──────┤                          ├──────┼──────┼──────┼──────┼──────┼──────┤
   * |//////|      | Home | PgUp | PgDn | End  |                          |   ←  |   ↓  |   ↑  |   →  |      |//////|
   * ├──────┼──────┼──────┼──────┼──────┼──────┼──────┐            ┌──────┼──────┼──────┼──────┼──────┼──────┼──────┤
   * |//////|      |      |      |      |      |//////|            |      |      |      |      |      |      |//////|
   * └──────┴──────┴──────┴──┬───┴──┬───┴──┬───┴──┬───┘            └──┬───┴──┬───┴──┬───┴──┬───┴──────┴──────┴──────┘
   *                         |      |//////|//////|                   | *Nav*|//////|      |
   *                         └──────┴──────┴──────┘                   └──────┴──────┴──────┘
   */
  [_NAV] = LAYOUT(
     ___x___, KC_1   , KC_2   , KC_3   , KC_4   , KC_5   ,                     KC_6   , KC_7   , KC_8   , KC_9   , KC_0   , ___x___,
     _______, ___x___, ___x___, ___x___, ___x___, ___x___,                     ___x___, ___x___, ___x___, ___x___, ___x___, _______,
     _______, ___x___, KC_HOME, KC_PGUP, KC_PGDN, KC_END,                      KC_LEFT, KC_DOWN, KC_UP  , KC_RGHT, ___x___, _______,
     _______, ___x___, ___x___, ___x___, ___x___, ___x___, _______,   ___x___, ___x___, ___x___, ___x___, ___x___, ___x___, _______,
                                    ___x___, _______, _______,            _______, _______, ___x___
  ),

  /**
   * GUI/Media Layer
   * ┌──────┬──────┬──────┬──────┬──────┬──────┐                          ┌──────┬──────┬──────┬──────┬──────┬──────┐
   * |      |      |      |      |      |      |                          |      |      |      |      |      |      |
   * ├──────┼──────┼──────┼──────┼──────┼──────┤                          ├──────┼──────┼──────┼──────┼──────┼──────┤
   * |//////|      |  M↑  |      | Bri+ |      |                          |      |      |      |      |      | PrtSc|
   * ├──────┼──────┼──────┼──────┼──────┼──────┤                          ├──────┼──────┼──────┼──────┼──────┼──────┤
   * |//////|  M←  |  M↓  |  M→  | Bri- |      |                          |  W←  |  W↓  |  W↑  |  W→  | Vol+ |//////|
   * ├──────┼──────┼──────┼──────┼──────┼──────┼──────┐            ┌──────┼──────┼──────┼──────┼──────┼──────┼──────┤
   * |//////| Prev | Play | Next | Stop |      |      |            | MsB3 |      |      |      | Mute | Vol- |//////|
   * └──────┴──────┴──────┴──┬───┴──┬───┴──┬───┴──┬───┘            └──┬───┴──┬───┴──┬───┴──┬───┴──────┴──────┴──────┘
   *                         |*GUI* |//////| MsB1 |                   | MsB2 |//////| *GUI*|
   *                         └──────┴──────┴──────┘                   └──────┴──────┴──────┘
   */
  [_GUI] = LAYOUT(
     _______, _______, _______, _______, _______, _______,                            _______, _______, _______, _______, _______, _______,
     _______, _______, KC_MS_U, _______, KC_BRIU, _______,                            _______, _______, _______, _______, _______, KC_PSCR,
     _______, KC_MS_L, KC_MS_D, KC_MS_R, KC_BRID, _______,                            KC_WH_L, KC_WH_D, KC_WH_U, KC_WH_R, KC_VOLU, _______,
     _______, KC_MPRV, KC_MPLY, KC_MNXT, KC_MSTP, _______, _______,         KC_BTN_3, _______, _______, _______, KC_MUTE, KC_VOLD, _______,
                                    _______, _______, KC_BTN1,                   KC_BTN_2, _______, _______
  ),
};

